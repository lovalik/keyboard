(()=>{"use strict";function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}const t={eng:{capslockOff:{shiftOff:{Backquote:"`",Digit1:"1",Digit2:"2",Digit3:"3",Digit4:"4",Digit5:"5",Digit6:"6",Digit7:"7",Digit8:"8",Digit9:"9",Digit0:"0",Minus:"-",Equal:"=",Backspace:"Backspace",Tab:"Tab",KeyQ:"q",KeyW:"w",KeyE:"e",KeyR:"r",KeyT:"t",KeyY:"y",KeyU:"u",KeyI:"i",KeyO:"o",KeyP:"p",BracketRight:"]",BracketLeft:"[",Backslash:"\\",Delete:"Del",CapsLock:"CapsLock",KeyA:"a",KeyS:"s",KeyD:"d",KeyF:"f",KeyG:"g",KeyH:"h",KeyJ:"j",KeyK:"k",KeyL:"l",Semicolon:";",Quote:"'",Enter:"Enter",ShiftLeft:"Shift",ShiftRight:"Shift",KeyZ:"z",KeyX:"x",KeyC:"c",KeyV:"v",KeyB:"b",KeyN:"n",KeyM:"m",Comma:",",Period:".",Slash:"/",ArrowUp:"&#9650;",ControlLeft:"Ctrl",ControlRight:"Ctrl",MetaLeft:"Win",AltLeft:"Alt",AltRight:"Alt",flag:"url('./assets/images/gb.svg')",language:"русскую",Space:" ",ArrowRight:"&#9658;",ArrowDown:"&#9660;",ArrowLeft:"&#9668;"},shiftOn:{Backquote:"~",Digit1:"!",Digit2:"@",Digit3:"#",Digit4:"$",Digit5:"%",Digit6:"^",Digit7:"&",Digit8:"*",Digit9:"(",Digit0:")",Minus:"-",Equal:"+",Backspace:"Backspace",Tab:"Tab",KeyQ:"Q",KeyW:"W",KeyE:"E",KeyR:"R",KeyT:"T",KeyY:"Y",KeyU:"U",KeyI:"I",KeyO:"O",KeyP:"P",BracketRight:"}",BracketLeft:"{",Backslash:"|",Delete:"Del",CapsLock:"CapsLock",KeyA:"A",KeyS:"S",KeyD:"D",KeyF:"F",KeyG:"G",KeyH:"H",KeyJ:"J",KeyK:"K",KeyL:"L",Semicolon:":",Quote:'"',Enter:"Enter",ShiftLeft:"Shift",ShiftRight:"Shift",KeyZ:"Z",KeyX:"X",KeyC:"C",KeyV:"V",KeyB:"B",KeyN:"N",KeyM:"M",Comma:"<",Period:">",Slash:"?",ArrowUp:"&#9650;",ControlLeft:"Ctrl",ControlRight:"Ctrl",MetaLeft:"Win",AltLeft:"Alt",AltRight:"Alt",flag:"url('./assets/images/gb.svg')",language:"русскую",Space:" ",ArrowRight:"&#9658;",ArrowDown:"&#9660;",ArrowLeft:"&#9668;"}},capslockOn:{shiftOff:{Backquote:"`",Digit1:"1",Digit2:"2",Digit3:"3",Digit4:"4",Digit5:"5",Digit6:"6",Digit7:"7",Digit8:"8",Digit9:"9",Digit0:"0",Minus:"-",Equal:"=",Backspace:"Backspace",Tab:"Tab",KeyQ:"Q",KeyW:"W",KeyE:"E",KeyR:"R",KeyT:"T",KeyY:"Y",KeyU:"U",KeyI:"I",KeyO:"O",KeyP:"P",BracketRight:"]",BracketLeft:"[",Backslash:"\\",Delete:"Del",CapsLock:"CapsLock",KeyA:"A",KeyS:"S",KeyD:"D",KeyF:"F",KeyG:"G",KeyH:"H",KeyJ:"J",KeyK:"K",KeyL:"L",Semicolon:";",Quote:"'",Enter:"Enter",ShiftLeft:"Shift",ShiftRight:"Shift",KeyZ:"Z",KeyX:"X",KeyC:"C",KeyV:"V",KeyB:"B",KeyN:"N",KeyM:"M",Comma:",",Period:".",Slash:"/",ArrowUp:"&#9650;",ControlLeft:"Ctrl",ControlRight:"Ctrl",MetaLeft:"Win",AltLeft:"Alt",AltRight:"Alt",flag:"url('./assets/images/gb.svg')",language:"русскую",Space:" ",ArrowRight:"&#9658;",ArrowDown:"&#9660;",ArrowLeft:"&#9668;"},shiftOn:{Backquote:"~",Digit1:"!",Digit2:"@",Digit3:"#",Digit4:"$",Digit5:"%",Digit6:"^",Digit7:"&",Digit8:"*",Digit9:"(",Digit0:")",Minus:"-",Equal:"+",Backspace:"Backspace",Tab:"Tab",KeyQ:"q",KeyW:"w",KeyE:"e",KeyR:"r",KeyT:"t",KeyY:"y",KeyU:"u",KeyI:"i",KeyO:"o",KeyP:"p",BracketRight:"}",BracketLeft:"{",Backslash:"|",Delete:"Del",CapsLock:"CapsLock",KeyA:"a",KeyS:"s",KeyD:"d",KeyF:"f",KeyG:"g",KeyH:"h",KeyJ:"j",KeyK:"k",KeyL:"l",Semicolon:":",Quote:'"',Enter:"Enter",ShiftLeft:"Shift",ShiftRight:"Shift",KeyZ:"z",KeyX:"x",KeyC:"c",KeyV:"v",KeyB:"b",KeyN:"n",KeyM:"m",Comma:"<",Period:">",Slash:"?",ArrowUp:"&#9650;",ControlLeft:"Ctrl",ControlRight:"Ctrl",MetaLeft:"Win",AltLeft:"Alt",AltRight:"Alt",flag:"url('./assets/images/gb.svg')",language:"русскую",Space:" ",ArrowRight:"&#9658;",ArrowDown:"&#9660;",ArrowLeft:"&#9668;"}}},rus:{capslockOff:{shiftOff:{Backquote:"ё",Digit1:"1",Digit2:"2",Digit3:"3",Digit4:"4",Digit5:"5",Digit6:"6",Digit7:"7",Digit8:"8",Digit9:"9",Digit0:"0",Minus:"-",Equal:"=",Backspace:"Backspace",Tab:"Tab",KeyQ:"й",KeyW:"ц",KeyE:"у",KeyR:"к",KeyT:"е",KeyY:"н",KeyU:"г",KeyI:"ш",KeyO:"щ",KeyP:"з",BracketRight:"ъ",BracketLeft:"х",Backslash:"\\",Delete:"Del",CapsLock:"CapsLock",KeyA:"ф",KeyS:"ы",KeyD:"в",KeyF:"а",KeyG:"п",KeyH:"р",KeyJ:"о",KeyK:"л",KeyL:"д",Semicolon:"ж",Quote:"э",Enter:"Enter",ShiftLeft:"Shift",ShiftRight:"Shift",KeyZ:"я",KeyX:"ч",KeyC:"с",KeyV:"м",KeyB:"и",KeyN:"т",KeyM:"ь",Comma:"б",Period:"ю",Slash:".",ArrowUp:"&#9650;",ControlLeft:"Ctrl",ControlRight:"Ctrl",MetaLeft:"Win",AltLeft:"Alt",AltRight:"Alt",flag:"url('./assets/images/rf.svg')",language:"английскую",Space:" ",ArrowRight:"&#9658;",ArrowDown:"&#9660;",ArrowLeft:"&#9668;"},shiftOn:{Backquote:"Ё",Digit1:"!",Digit2:"@",Digit3:"#",Digit4:"$",Digit5:"%",Digit6:"^",Digit7:"&",Digit8:"*",Digit9:"(",Digit0:")",Minus:"-",Equal:"+",Backspace:"Backspace",Tab:"Tab",KeyQ:"Й",KeyW:"Ц",KeyE:"У",KeyR:"К",KeyT:"Е",KeyY:"Н",KeyU:"Г",KeyI:"Ш",KeyO:"Щ",KeyP:"З",BracketRight:"Ъ",BracketLeft:"Х",Backslash:"/",Delete:"Del",CapsLock:"CapsLock",KeyA:"Ф",KeyS:"Ы",KeyD:"В",KeyF:"А",KeyG:"П",KeyH:"Р",KeyJ:"О",KeyK:"Л",KeyL:"Д",Semicolon:"Ж",Quote:"Э",Enter:"Enter",ShiftLeft:"Shift",ShiftRight:"Shift",KeyZ:"Я",KeyX:"Ч",KeyC:"С",KeyV:"М",KeyB:"И",KeyN:"Т",KeyM:"Ь",Comma:"Б",Period:"Ю",Slash:",",ArrowUp:"&#9650;",ControlLeft:"Ctrl",ControlRight:"Ctrl",MetaLeft:"Win",AltLeft:"Alt",AltRight:"Alt",flag:"url('./assets/images/rf.svg')",language:"английскую",Space:" ",ArrowRight:"&#9658;",ArrowDown:"&#9660;",ArrowLeft:"&#9668;"}},capslockOn:{shiftOff:{Backquote:"Ё",Digit1:"1",Digit2:"2",Digit3:"3",Digit4:"4",Digit5:"5",Digit6:"6",Digit7:"7",Digit8:"8",Digit9:"9",Digit0:"0",Minus:"-",Equal:"=",Backspace:"Backspace",Tab:"Tab",KeyQ:"Й",KeyW:"Ц",KeyE:"У",KeyR:"К",KeyT:"Е",KeyY:"Н",KeyU:"Г",KeyI:"Ш",KeyO:"Щ",KeyP:"З",BracketRight:"Ъ",BracketLeft:"Х",Backslash:"\\",Delete:"Del",CapsLock:"CapsLock",KeyA:"Ф",KeyS:"Ы",KeyD:"В",KeyF:"А",KeyG:"П",KeyH:"Р",KeyJ:"О",KeyK:"Л",KeyL:"Д",Semicolon:"Ж",Quote:"Э",Enter:"Enter",ShiftLeft:"Shift",ShiftRight:"Shift",KeyZ:"Я",KeyX:"Ч",KeyC:"С",KeyV:"М",KeyB:"И",KeyN:"Т",KeyM:"Ь",Comma:"Б",Period:"Ю",Slash:".",ArrowUp:"&#9650;",ControlLeft:"Ctrl",ControlRight:"Ctrl",MetaLeft:"Win",AltLeft:"Alt",AltRight:"Alt",flag:"url('./assets/images/rf.svg')",language:"английскую",Space:" ",ArrowRight:"&#9658;",ArrowDown:"&#9660;",ArrowLeft:"&#9668;"},shiftOn:{Backquote:"ё",Digit1:"!",Digit2:'"',Digit3:"№",Digit4:";",Digit5:"%",Digit6:":",Digit7:"?",Digit8:"*",Digit9:"(",Digit0:")",Minus:"_",Equal:"+",Backspace:"Backspace",Tab:"Tab",KeyQ:"й",KeyW:"ц",KeyE:"у",KeyR:"к",KeyT:"е",KeyY:"н",KeyU:"г",KeyI:"ш",KeyO:"щ",KeyP:"з",BracketRight:"ъ",BracketLeft:"х",Backslash:"/",Delete:"Del",CapsLock:"CapsLock",KeyA:"ф",KeyS:"ы",KeyD:"в",KeyF:"а",KeyG:"п",KeyH:"р",KeyJ:"о",KeyK:"л",KeyL:"д",Semicolon:"Ж",Quote:"Э",Enter:"Enter",ShiftLeft:"Shift",ShiftRight:"Shift",KeyZ:"я",KeyX:"ч",KeyC:"с",KeyV:"м",KeyB:"и",KeyN:"т",KeyM:"ь",Comma:"б",Period:"ю",Slash:",",ArrowUp:"&#9650;",ControlLeft:"Ctrl",ControlRight:"Ctrl",MetaLeft:"Win",AltLeft:"Alt",AltRight:"Alt",flag:"url('./assets/images/rf.svg')",language:"английскую",Space:" ",ArrowRight:"&#9658;",ArrowDown:"&#9660;",ArrowLeft:"&#9668;"}}}};function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}!function(){var n=document.createElement("div");n.className="container",document.body.append(n);var i,a=localStorage.getItem("language"),r=localStorage.getItem("shiftState"),c=localStorage.getItem("shiftButtonEventCode"),l=localStorage.getItem("capslockState"),s=localStorage.getItem("capslockButtonWasReleased"),y=localStorage.getItem("allText"),u=localStorage.getItem("array"),d=localStorage.getItem("selectionIndex"),h=localStorage.getItem("textAreaWidth"),g=localStorage.getItem("textAreaHeight"),K=null,f=!1,m=!1;null===a&&(a="eng"),null===l&&(l="capslockOff",s="yes",r="shiftOff"),console.log(JSON.stringify(t[a][l][r]));var k=t[a][l][r];null===y&&null===u?(y="",i=[],d=0):(i=u.split(","),d=Number(d)),null===h&&null===g&&(h=950,g=300);var v=new ResizeObserver((function(e){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,r=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw r}}}}(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.contentBoxSize&&(h=Math.round(i.contentBoxSize[0].inlineSize),g=Math.round(i.contentBoxSize[0].blockSize))}}catch(e){n.e(e)}finally{n.f()}})),S=function(t){var o,n=t.appendKeyboard,i=t.dict,a=t.methodsForButtons,r=t.allText,c=t.selectionIndex,l=t.textAreaWidth,s=t.textAreaHeight,y=t.observer;n("  <div class='keyboard'>\n                            <div class='keyboard-screen_wrapper'>\n                              <textarea class='screen_textarea' spellcheck='true'></textarea>\n                              <div class='flag'></div>\n                            </div>\n                            <div class='message_windows10-logo'></div>\n                            <div class='keyboard-buttons_wrapper'>\n                              <div class='keyboard__buttons'>\n                                <div class='first-row'>\n                                  <div class='button key_Backquote'>".concat((o=i).Backquote,"</div>\n                                  <div class='button key_Digit1'>").concat(o.Digit1,"</div>\n                                  <div class='button key_Digit2'>").concat(o.Digit2,"</div>\n                                  <div class='button key_Digit3'>").concat(o.Digit3,"</div>\n                                  <div class='button key_Digit4'>").concat(o.Digit4,"</div>\n                                  <div class='button key_Digit5'>").concat(o.Digit5,"</div>\n                                  <div class='button key_Digit6'>").concat(o.Digit6,"</div>\n                                  <div class='button key_Digit7'>").concat(o.Digit7,"</div>\n                                  <div class='button key_Digit8'>").concat(o.Digit8,"</div>\n                                  <div class='button key_Digit9'>").concat(o.Digit9,"</div>\n                                  <div class='button key_Digit0'>").concat(o.Digit0,"</div>\n                                  <div class='button key_Minus'>").concat(o.Minus,"</div>\n                                  <div class='button key_Equal'>").concat(o.Equal,"</div>\n                                <div class='button key_Backspace'>").concat(o.Backspace,"</div>\n                                </div>\n                                <div class='second-row'>\n                                  <div class='button key_Tab'>").concat(o.Tab,"</div>\n                                  <div class='button key_KeyQ'>").concat(o.KeyQ,"</div>\n                                  <div class='button key_KeyW'>").concat(o.KeyW,"</div>\n                                  <div class='button key_KeyE'>").concat(o.KeyE,"</div>\n                                  <div class='button key_KeyR'>").concat(o.KeyR,"</div>\n                                  <div class='button key_KeyT'>").concat(o.KeyT,"</div>\n                                  <div class='button key_KeyY'>").concat(o.KeyY,"</div>\n                                  <div class='button key_KeyU'>").concat(o.KeyU,"</div>\n                                  <div class='button key_KeyI'>").concat(o.KeyI,"</div>\n                                  <div class='button key_KeyO'>").concat(o.KeyO,"</div>\n                                  <div class='button key_KeyP'>").concat(o.KeyP,"</div>\n                                  <div class='button key_BracketLeft'>").concat(o.BracketLeft,"</div>\n                                  <div class='button key_BracketRight'>").concat(o.BracketRight,"</div>\n                                  <div class='button key_Backslash'>").concat(o.Backslash,"</div>\n                                  <div class='button key_Delete'>").concat(o.Delete,"</div>\n                                </div>\n                                <div class='third-row'>\n                                  <div class='button key_CapsLock'>").concat(o.CapsLock,"</div>\n                                  <div class='button key_KeyA'>").concat(o.KeyA,"</div>\n                                  <div class='button key_KeyS'>").concat(o.KeyS,"</div>\n                                  <div class='button key_KeyD'>").concat(o.KeyD,"</div>\n                                  <div class='button key_KeyF'>").concat(o.KeyF,"</div>\n                                  <div class='button key_KeyG'>").concat(o.KeyG,"</div>\n                                  <div class='button key_KeyH'>").concat(o.KeyH,"</div>\n                                  <div class='button key_KeyJ'>").concat(o.KeyJ,"</div>\n                                  <div class='button key_KeyK'>").concat(o.KeyK,"</div>\n                                  <div class='button key_KeyL'>").concat(o.KeyL,"</div>\n                                  <div class='button key_Semicolon'>").concat(o.Semicolon,"</div>\n                                  <div class='button key_Quote'>").concat(o.Quote,"</div>\n                                  <div class='button key_Enter'>").concat(o.Enter,"</div>\n                                </div>\n                                <div class='forth-row'>\n                                  <div class='button key_ShiftLeft'>").concat(o.ShiftLeft,"</div>\n                                  <div class='button key_KeyZ'>").concat(o.KeyZ,"</div>\n                                  <div class='button key_KeyX'>").concat(o.KeyX,"</div>\n                                  <div class='button key_KeyC'>").concat(o.KeyC,"</div>\n                                  <div class='button key_KeyV'>").concat(o.KeyV,"</div>\n                                  <div class='button key_KeyB'>").concat(o.KeyB,"</div>\n                                  <div class='button key_KeyN'>").concat(o.KeyN,"</div>\n                                  <div class='button key_KeyM'>").concat(o.KeyM,"</div>\n                                  <div class='button key_Comma'>").concat(o.Comma,"</div>\n                                  <div class='button key_Period'>").concat(o.Period,"</div>\n                                  <div class='button key_Slash'>").concat(o.Slash,"</div>\n                                  <div class='button key_ArrowUp'>").concat(o.ArrowUp,"</div>\n                                  <div class='button key_ShiftRight'>").concat(o.ShiftRight,"</div>\n                                </div>\n                                <div class='fifth-row'>\n                                  <div class='button key_ControlLeft'>").concat(o.ControlLeft,"</div>\n                                  <div class='button key_MetaLeft'>").concat(o.MetaLeft,"</div>\n                                  <div class='button key_AltLeft'>").concat(o.AltRight,"</div>\n                                  <div class='button key_Space'></div>\n                                  <div class='button key_AltRight'>").concat(o.AltLeft,"</div>\n                                  <div class='button key_ArrowLeft'>").concat(o.ArrowLeft,"</div>\n                                  <div class='button key_ArrowDown'>").concat(o.ArrowDown,"</div>\n                                  <div class='button key_ArrowRight'>").concat(o.ArrowRight,"</div>\n                                  <div class='button key_ControlRight'>").concat(o.ControlRight,"</div>\n                                </div>\n                              </div>\n                            </div>\n                            <div class='message'>\n                              <div class='message_change-language'>\n                                <span class='message_os'>Нажмите CTRL + ALT для смены раскладки на&nbsp</span>\n                                <span class='message_language'>").concat(o.language,"</span>\n                              </div>\n                            </div>\n                            <div class=\"ecmascript6-features\">\n                              <h2>ECMAscript 6 features:</h2>\n                              <ul class=\"ecmascript6-features_ul\">\n                                <li>использование модулей: <span class='modules'>main.js</span>, <span class='modules'>ui.js</span>, <span class='modules'>template.js</span>, <span class='modules'>dictionary.js</span> являются модулями т.е. экспортируются или импортируются</li>\n                                <li>использование стрелочных функций в файле-модуле: <span class='modules'>main.js</span></li>\n                                <li>объявление переменных через <span class=\"let\">let</span> и <span class=\"const\">const</span> в файлах-модулях: <span class='modules'>main.js</span>, <span class='modules'>ui.js</span></li>\n                                <li>использование классов: в модуле <span class='modules'>ui.js</span> объявлен <span class=\"class-name\">class UImethods</span>, методы этого класса используются в <span class='modules'>main.js</span></li>\n                              </ul>\n                            </div>\n                            <div class=\"eslint\">\n                              <h2>ESLint (eslint-config-airbnb-base):</h2>\n                              <p>файл конфигурации .eslintrc.js присутствует</p>\n                            </div>\n                        </div>"));var u=document.querySelector(".keyboard"),d=u.querySelector(".screen_textarea");d.innerHTML=r,d.style.width="".concat(l,"px"),d.style.height="".concat(s,"px");var h=u.querySelectorAll(".button"),g=a(d);y.observe(d);var K=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}var o,n;return o=t,(n=[{key:"changeTextareaStyleProperty",value:function(e,t){d.style[e]=t}},{key:"focusTextarea",value:function(){d.focus()}},{key:"changeTextareaInnerHTML",value:function(e){d.innerHTML=e}},{key:"setTextareaSelectionStart",value:function(e){d.selectionStart=e}},{key:"setTextareaSelectionEnd",value:function(e){d.selectionEnd=e}},{key:"getTextareaSelectionStart",value:function(){return d.selectionStart}}])&&e(o,n),Object.defineProperty(o,"prototype",{writable:!1}),t}();K.setTextareaSelectionStart(c),K.setTextareaSelectionEnd(c),K.focusTextarea();var f=u.querySelector(".key_Backquote"),m=u.querySelector(".key_Digit1"),k=u.querySelector(".key_Digit2"),v=u.querySelector(".key_Digit3"),S=u.querySelector(".key_Digit4"),p=u.querySelector(".key_Digit5"),A=u.querySelector(".key_Digit6"),B=u.querySelector(".key_Digit7"),D=u.querySelector(".key_Digit8"),L=u.querySelector(".key_Digit9"),b=u.querySelector(".key_Digit0"),_=u.querySelector(".key_Minus"),C=u.querySelector(".key_Equal"),w=u.querySelector(".key_Backspace");g.methodForAlphanumericButton(f,i.Backquote),g.methodForAlphanumericButton(m,i.Digit1),g.methodForAlphanumericButton(k,i.Digit2),g.methodForAlphanumericButton(v,i.Digit3),g.methodForAlphanumericButton(S,i.Digit4),g.methodForAlphanumericButton(p,i.Digit5),g.methodForAlphanumericButton(A,i.Digit6),g.methodForAlphanumericButton(B,i.Digit7),g.methodForAlphanumericButton(D,i.Digit8),g.methodForAlphanumericButton(L,i.Digit9),g.methodForAlphanumericButton(b,i.Digit0),g.methodForAlphanumericButton(_,i.Minus),g.methodForAlphanumericButton(C,i.Equal),g.methodForBackspace(w);var T=u.querySelector(".key_Tab"),F=u.querySelector(".key_KeyQ"),q=u.querySelector(".key_KeyW"),R=u.querySelector(".key_KeyE"),E=u.querySelector(".key_KeyR"),I=u.querySelector(".key_KeyT"),x=u.querySelector(".key_KeyY"),M=u.querySelector(".key_KeyU"),O=u.querySelector(".key_KeyI"),j=u.querySelector(".key_KeyO"),W=u.querySelector(".key_KeyP"),P=u.querySelector(".key_BracketLeft"),H=u.querySelector(".key_BracketRight"),U=u.querySelector(".key_Backslash"),Q=u.querySelector(".key_Delete");g.methodForTabButton(T),g.methodForAlphanumericButton(F,i.KeyQ),g.methodForAlphanumericButton(q,i.KeyW),g.methodForAlphanumericButton(R,i.KeyE),g.methodForAlphanumericButton(E,i.KeyR),g.methodForAlphanumericButton(I,i.KeyT),g.methodForAlphanumericButton(x,i.KeyY),g.methodForAlphanumericButton(M,i.KeyU),g.methodForAlphanumericButton(O,i.KeyI),g.methodForAlphanumericButton(j,i.KeyO),g.methodForAlphanumericButton(W,i.KeyP),g.methodForAlphanumericButton(P,i.BracketLeft),g.methodForAlphanumericButton(H,i.BracketRight),g.methodForAlphanumericButton(U,i.Backslash),g.methodForDelete(Q);var N=u.querySelector(".key_CapsLock"),J=u.querySelector(".key_KeyA"),G=u.querySelector(".key_KeyS"),V=u.querySelector(".key_KeyD"),X=u.querySelector(".key_KeyF"),Y=u.querySelector(".key_KeyG"),Z=u.querySelector(".key_KeyH"),z=u.querySelector(".key_KeyJ"),$=u.querySelector(".key_KeyK"),ee=u.querySelector(".key_KeyL"),te=u.querySelector(".key_Semicolon"),oe=u.querySelector(".key_Quote"),ne=u.querySelector(".key_Enter");g.methodForCapsLock(N),g.methodForAlphanumericButton(J,i.KeyA),g.methodForAlphanumericButton(G,i.KeyS),g.methodForAlphanumericButton(V,i.KeyD),g.methodForAlphanumericButton(X,i.KeyF),g.methodForAlphanumericButton(Y,i.KeyG),g.methodForAlphanumericButton(Z,i.KeyH),g.methodForAlphanumericButton(z,i.KeyJ),g.methodForAlphanumericButton($,i.KeyK),g.methodForAlphanumericButton(ee,i.KeyL),g.methodForAlphanumericButton(te,i.Semicolon),g.methodForAlphanumericButton(oe,i.Quote),g.methodForAlphanumericButton(ne,"\n");var ie=u.querySelector(".key_ShiftLeft"),ae=u.querySelector(".key_KeyZ"),re=u.querySelector(".key_KeyX"),ce=u.querySelector(".key_KeyC"),le=u.querySelector(".key_KeyV"),se=u.querySelector(".key_KeyB"),ye=u.querySelector(".key_KeyN"),ue=u.querySelector(".key_KeyM"),de=u.querySelector(".key_Comma"),he=u.querySelector(".key_Period"),ge=u.querySelector(".key_Slash"),Ke=u.querySelector(".key_ArrowUp"),fe=u.querySelector(".key_ShiftRight");g.methodForShiftButton(ie,"ShiftLeft"),g.methodForAlphanumericButton(ae,i.KeyZ),g.methodForAlphanumericButton(re,i.KeyX),g.methodForAlphanumericButton(ce,i.KeyC),g.methodForAlphanumericButton(le,i.KeyV),g.methodForAlphanumericButton(se,i.KeyB),g.methodForAlphanumericButton(ye,i.KeyN),g.methodForAlphanumericButton(ue,i.KeyM),g.methodForAlphanumericButton(de,i.Comma),g.methodForAlphanumericButton(he,i.Period),g.methodForAlphanumericButton(ge,i.Slash),g.methodForAlphanumericButton(Ke,i.ArrowUp),g.methodForShiftButton(fe,"ShiftRight");var me=u.querySelector(".key_ControlLeft"),ke=u.querySelector(".key_MetaLeft"),ve=u.querySelector(".key_AltLeft"),Se=u.querySelector(".flag"),pe=u.querySelector(".key_Space"),Ae=u.querySelector(".key_AltRight"),Be=u.querySelector(".key_ArrowLeft"),De=u.querySelector(".key_ArrowDown"),Le=u.querySelector(".key_ArrowRight"),be=u.querySelector(".key_ControlRight");return g.methodForCtrlButton(me),g.methodForWinButton(ke),g.methodForAltButton(ve),g.methodForAlphanumericButton(pe,i.Space),g.methodForAltButton(Ae),g.methodForAlphanumericButton(Be,i.ArrowLeft),g.methodForAlphanumericButton(De,i.ArrowDown),g.methodForAlphanumericButton(Le,i.ArrowRight),g.methodForCtrlButton(be),g.highlightButtonShiftLeft(ie),g.highlightButtonShiftRight(fe),g.highlightButtonCapsLock(N),Se.style.backgroundImage=i.flag,document.addEventListener("keydown",(function(e){e.preventDefault(),g.addClassForAnimation(e.code,h),g.methodsForControlKeys(e.code,d),g.addSymbolToTextareaByKeyboard(e.code,d)})),document.addEventListener("keyup",(function(e){g.deactivateShift(e.code),g.trackCapslockButtonWasReleased(e.code),g.removeClassForAnimation(e.code,h)})),d.addEventListener("click",(function(){g.setSelectionIndex(d.selectionStart)})),K}({appendKeyboard:function(e){n.innerHTML=e},dict:k,methodsForButtons:function(){var e,t;function o(){S.focusTextarea(),S.changeTextareaStyleProperty("caretColor","transparent"),setTimeout((function(){S.changeTextareaStyleProperty("caretColor","black"),S.setTextareaSelectionStart(d),S.setTextareaSelectionEnd(d)}))}function n(){localStorage.setItem("language",a),localStorage.setItem("shiftState",r),localStorage.setItem("shiftButtonEventCode",c),localStorage.setItem("capslockState",l),localStorage.setItem("capslockButtonWasReleased",s),localStorage.setItem("allText",y),localStorage.setItem("array",i),localStorage.setItem("selectionIndex",d),localStorage.setItem("textAreaWidth",h),localStorage.setItem("textAreaHeight",g)}function u(n){void 0===e&&(null===d&&(d=S.getTextareaSelectionStart()),i=i.concat(n,i.splice(d,i.length)),d+=1,o(),y=i.join(""),S.changeTextareaInnerHTML(i.join("")),e=window.setTimeout((function(){t=window.setInterval((function(){i=i.concat(n,i.splice(d,i.length)),o(),d+=1,y=i.join(""),S.changeTextareaInnerHTML(i.join(""))}),50)}),600))}function v(){if(void 0===e){if(d===i.length)return;i.splice(d,1),o(),y=i.join(""),S.changeTextareaInnerHTML(i.join("")),e=window.setTimeout((function(){t=window.setInterval((function(){d!==i.length&&(i.splice(d,1),o(),y=i.join(""),S.changeTextareaInnerHTML(i.join("")))}),30)}),600)}}function p(){if(void 0===e){if(0===d)return;i.splice(d-1,1),d-=1,o(),y=i.join(""),S.changeTextareaInnerHTML(i.join("")),e=window.setTimeout((function(){t=window.setInterval((function(){0!==d&&(i.splice(d-1,1),d-=1,o(),y=i.join(""),S.changeTextareaInnerHTML(i.join("")))}),30)}),600)}}function A(){void 0===e&&(null===d&&(d=S.getTextareaSelectionStart()),i=i.concat(" "," "," "," ",i.splice(d,i.length)),d+=4,o(),y=i.join(""),S.changeTextareaInnerHTML(i.join("")),e=window.setTimeout((function(){t=window.setInterval((function(){i=i.concat(" "," "," "," ",i.splice(d,i.length)),o(),d+=4,y=i.join(""),S.changeTextareaInnerHTML(i.join(""))}),50)}),600))}function B(){!0===f&&!0===m&&(a="rus"===a?"eng":"rus",n(),K="keyboard",document.location.reload())}function D(){"yes"===s&&("capslockOn"===l?(l="capslockOff",s="no",n(),K="keyboard",document.location.reload()):"capslockOff"===l&&(l="capslockOn",s="no",n(),K="keyboard",document.location.reload()))}function L(e){"shiftOff"===r&&(r="shiftOn",c=e,n(),K="keyboard",document.location.reload())}function b(e){"ShiftLeft"!==e&&"ShiftRight"!==e||(r="shiftOff",c=null,n(),K="keyboard",document.location.reload())}function _(e){e.classList.add("animation")}function C(o){o.classList.remove("animation"),clearInterval(e),clearTimeout(t),e=void 0,t=void 0}function w(e,t,n){e.addEventListener("mousedown",(function(e){e.preventDefault(),o(),t(n),_(e.currentTarget)})),e.addEventListener("mouseup",(function(e){C(e.currentTarget)})),e.addEventListener("mouseout",(function(e){C(e.currentTarget)}))}return{addClassForAnimation:function(e,t){for(var o=0;o<t.length;o+=1)t[o].classList.contains("key_".concat(e))&&t[o].classList.add("animation")},removeClassForAnimation:function(o,n){if("CapsLock"!==o){for(var i=0;i<n.length;i+=1)n[i].classList.contains("key_".concat(o))&&n[i].classList.remove("animation");clearInterval(e),clearTimeout(t),e=void 0,t=void 0}"ControlLeft"!==o&&"ControlRight"!==o||(f=!1)},deactivateShift:b,highlightButtonCapsLock:function(e){"capslockOn"===l&&e.classList.add("animation")},highlightButtonShiftLeft:function(e){"shiftOn"===r&&"ShiftLeft"===c&&e.classList.add("animation")},highlightButtonShiftRight:function(e){"shiftOn"===r&&"ShiftRight"===c&&e.classList.add("animation")},addSymbolToTextareaByKeyboard:function(e){if(!function(e){switch(e){case"CapsLock":case"Tab":case"ControlLeft":case"ControlRight":case"ShiftLeft":case"ShiftRight":case"MetaLeft":case"AltLeft":case"AltRight":case"Enter":case"Backspace":case"Delete":return!0;default:return!1}}(e)){var t=e.match(/([\w]{1,20})$/);u(k[t[1]])}},methodsForControlKeys:function(e){switch(e){case"Delete":v();break;case"Space":u(k.Space);break;case"Backspace":p();break;case"CapsLock":D();break;case"ShiftLeft":case"ShiftRight":L(e);break;case"ControlLeft":case"ControlRight":!0===f?f=!1:!1===f&&(f=!0),B();break;case"AltLeft":case"AltRight":!0===m?m=!1:!1===m&&(m=!0),B();break;case"Enter":u("\n");break;case"Tab":A()}},methodForAlphanumericButton:function(e,t){w(e,u,t)},methodForBackspace:function(e){w(e,p)},methodForDelete:function(e){w(e,v)},methodForCapsLock:function(e){e.addEventListener("mousedown",(function(){s="yes",D()}))},setSelectionIndex:function(e){d=e},methodForShiftButton:function(e,t){w(e,L,t),e.addEventListener("mouseup",(function(){b(t)}))},methodForTabButton:function(e){w(e,A)},trackCapslockButtonWasReleased:function(e){"CapsLock"===e&&(s="yes")},methodForWinButton:function(e){e.addEventListener("mousedown",(function(e){_(e.currentTarget)})),e.addEventListener("mouseup",(function(e){C(e.currentTarget)})),e.addEventListener("mouseout",(function(e){C(e.currentTarget)}))},methodForAltButton:function(e){e.addEventListener("mousedown",(function(e){m=!0,_(e.currentTarget)})),e.addEventListener("mouseup",(function(e){m=!1,C(e.currentTarget)})),e.addEventListener("mouseout",(function(e){C(e.currentTarget)}))},methodForCtrlButton:function(e){e.addEventListener("mousedown",(function(e){f=!0,_(e.currentTarget)})),e.addEventListener("mouseup",(function(e){f=!1,C(e.currentTarget)})),e.addEventListener("mouseout",(function(e){C(e.currentTarget)}))}}},allText:y,selectionIndex:d,textAreaWidth:h,textAreaHeight:g,observer:v});localStorage.clear(),document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&"keyboard"!==K&&localStorage.setItem("language",a)}))}()})();